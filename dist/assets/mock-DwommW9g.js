import{A as u}from"./index-Dy4FiG59.js";const a="efc_mock_db_v1";function s(){const t=localStorage.getItem(a);if(t)return JSON.parse(t);const e={};return Object.values(u).forEach(i=>{i.entities.forEach(n=>{if(e[n.key]=[],["usuarios","pacientes","especialidades"].includes(n.key))for(let o=1;o<=3;o++)e[n.key].push({id:o,nombre:`${n.name} ${o}`,email:`mail${o}@demo.com`})})}),localStorage.setItem(a,JSON.stringify(e)),e}function d(t){localStorage.setItem(a,JSON.stringify(t))}function m(t){return s()[t]||[]}function f(t,e){return(s()[t]||[]).find(n=>String(n.id)===String(e))}function S(t,e){const i=s(),n=i[t]||[],r={id:n.length?Math.max(...n.map(c=>Number(c.id)||0))+1:1,...e};return n.push(r),i[t]=n,d(i),r}function g(t,e,i){const n=s(),o=n[t]||[],r=o.findIndex(c=>String(c.id)===String(e));if(r>=0)return o[r]={...o[r],...i},n[t]=o,d(n),o[r];throw new Error("No existe el registro")}function b(t,e){const i=s(),o=(i[t]||[]).filter(r=>String(r.id)!==String(e));return i[t]=o,d(i),{ok:!0}}export{S as mockCreate,b as mockDelete,f as mockGet,m as mockList,g as mockUpdate};
